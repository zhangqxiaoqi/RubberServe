{
    "version": 3,
    "sources": [
        "..\\..\\src\\controller\\produce.js"
    ],
    "names": [
        "Base",
        "require",
        "pagination",
        "module",
        "exports",
        "indexAction",
        "option",
        "desc",
        "pageNum",
        "url",
        "class",
        "text",
        "next",
        "prev",
        "total",
        "list",
        "model",
        "order",
        "page",
        "get",
        "countSelect",
        "html",
        "assign",
        "display",
        "getProducesAction",
        "json",
        "code",
        "saveAction",
        "data",
        "post",
        "think",
        "isEmpty",
        "ID",
        "res",
        "add",
        "msg",
        "where",
        "update",
        "delAction",
        "delete",
        "getDetailAction",
        "find"
    ],
    "mappings": "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",
    "file": "..\\..\\src\\controller\\produce.js",
    "sourcesContent": [
        "// import {Common} from '../utils/common.js';\r\nconst Base = require('./base.js');\r\nconst pagination = require('../utils/pagination');\r\nmodule.exports = class extends Base {\r\n  async indexAction() {\r\n    const option = {\r\n      desc: false, // show description\r\n      pageNum: 1,\r\n      url: '', // page url, when not set, it will auto generated\r\n      class: 'page', // pagenation extra class\r\n      text: {\r\n        next: 'Next',\r\n        prev: 'Prev',\r\n        total: 'count: __COUNT__ , pages: __PAGE__'\r\n      }\r\n    };\r\n    const list = await this.model('rubber_produce')\r\n      .order('ID DESC')\r\n      .page(this.get('page'))\r\n      .countSelect();\r\n    const html = pagination(list, {}, option);\r\n    this.assign({ list });\r\n    this.assign('pagination', html);\r\n    return this.display();\r\n  }\r\n  async getProducesAction() {\r\n    const list = await this.model('rubber_produce')\r\n      .order('ID DESC')\r\n      .page(this.get('page'))\r\n      .countSelect();\r\n    this.assign({ list });\r\n    return this.json({ code: 200, list });\r\n  }\r\n  /**\r\n   *保存\r\n   */\r\n  async saveAction() {\r\n    const data = this.post();\r\n    // 如果没有ID，则是新增\r\n    if (think.isEmpty(data.ID)) {\r\n      const res = await this.model('rubber_produce').add(data);\r\n      if (res) {\r\n        return this.json({ code: 200, msg: '新增成功' });\r\n      } else {\r\n        return this.json({ code: -1, msg: '新增失败' });\r\n      }\r\n    } else {\r\n      // 更新\r\n      const res = await this.model('rubber_produce')\r\n        .where({ ID: data.ID })\r\n        .update(data);\r\n      if (res) {\r\n        return this.json({ code: 200, msg: '修改成功' });\r\n      } else {\r\n        return this.json({ code: -1, msg: '修改失败' });\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * 删除\r\n   */\r\n  async delAction() {\r\n    if (this.get('ID')) {\r\n      const res = await this.model('rubber_produce')\r\n        .where({ ID: this.get('ID') })\r\n        .delete();\r\n      if (res) {\r\n        return this.json({ code: 200, msg: '删除成功' });\r\n      } else {\r\n        return this.json({ code: -1, msg: '删除失败' });\r\n      }\r\n    } else {\r\n      return this.json({ code: -1, msg: '没有获取相应ID' });\r\n    }\r\n  }\r\n  /**\r\n   *获取详情\r\n   */\r\n  async getDetailAction() {\r\n    if (this.get('ID')) {\r\n      const res = await this.model('rubber_produce')\r\n        .where({ ID: this.get('ID') })\r\n        .find();\r\n      return this.json({ code: 200, msg: '', data: res });\r\n    } else {\r\n      return this.json({ code: -1, msg: '没有获取相应ID' });\r\n    }\r\n  }\r\n};\r\n"
    ]
}